import{r as C,c as k,w as H,x as $,y as U}from"./vue.esm-bundler-CJj2rol9.js";const W=(t,h,u)=>Math.max(h,Math.min(t,u));var e=(t=>(t.TopLeft="top-left",t.TopCenter="top-center",t.TopRight="top-right",t.BottomLeft="bottom-left",t.BottomCenter="bottom-center",t.BottomRight="bottom-right",t.LeftMiddle="left-middle",t.RightMiddle="right-middle",t))(e||{});const x=(t,h,u)=>{const f=u?.position??C(e.BottomCenter),R=!!u?.isEqualWidth,M=k(()=>u?.isUpdateAllowed?.value!==!1),i=k(()=>{if(!u?.gap?.value)return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${u.gap.value}`)??"0";return console.log("gapValue",a),a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),v=C({"--top":"0px","--left":"0px","--width":"auto"}),L=C(f.value),c=()=>{if(!t.value||!h.value||!M.value)return;const{top:a,bottom:s,left:d,right:p,width:g,height:B}=t.value.getBoundingClientRect(),{width:w,height:l}=h.value.getBoundingClientRect();console.log(">>",{top:a,bottom:s,left:d,right:p,relWidth:g,relHeight:B});const m=R?g:w;let o=s,r=d;const b=s+l<=window.innerHeight,T=a-l>=0,E=d-w>=0,S=p+w<=window.innerWidth,V=n=>{switch(n){case e.BottomLeft:return b?n:e.TopLeft;case e.BottomRight:return b?n:e.TopRight;case e.BottomCenter:return b?n:e.TopCenter;case e.TopLeft:return T?n:e.BottomLeft;case e.TopRight:return T?n:e.BottomRight;case e.TopCenter:return T?n:e.BottomCenter;case e.LeftMiddle:return E?n:e.RightMiddle;case e.RightMiddle:return S?n:e.LeftMiddle;default:return n}};switch(L.value=V(f.value),L.value){case e.BottomLeft:o=s+i.value,r=d;break;case e.BottomRight:o=s+i.value,r=p-m;break;case e.BottomCenter:o=s+i.value,r=d+(g-m)/2;break;case e.TopLeft:o=a-l-i.value,r=d;break;case e.TopRight:o=a-l-i.value,r=p-m;break;case e.TopCenter:o=a-l-i.value,r=d+(g-m)/2;break;case e.LeftMiddle:o=a+(B-l)/2,r=d-w-i.value;break;case e.RightMiddle:o=a+(B-l)/2,r=p+i.value;break}o=W(o,0,window.innerHeight-l),r=W(r,0,window.innerWidth-m),v.value={...v.value,"--top":`${o}px`,"--left":`${r}px`,"--width":R?`${g}px`:"auto"}};return H([M,t,h,f],c,{immediate:!0}),$(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),U(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{cssVariables:v,updateCssVariables:c,computedPosition:L}};export{e as N,x as u};
