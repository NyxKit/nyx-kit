import{N as e}from"./style-DbUoAtrk.js";import{r as T,c as W,w as C,o as H,a as M}from"./vue.esm-bundler-CfsXIL5g.js";const E=(l,d,s)=>Math.max(d,Math.min(l,s)),U=(l,d,s)=>{const v=s?.position??T(e.Bottom),R=!!s?.isEqualWidth,x=W(()=>s?.isUpdateAllowed?.value!==!1),r=W(()=>{if(!s?.gap?.value)return 0;const o=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${s.gap.value}`)??"0";return o.endsWith("rem")?parseFloat(o)*16:parseFloat(o)}),f=T({"--top":"0px","--left":"0px","--width":"auto"}),L=T(v.value),c=()=>{if(!l.value||!d.value||!x.value)return;const{top:o,bottom:h,left:u,right:m,width:g,height:k}=l.value.getBoundingClientRect(),{width:w,height:n}=d.value.getBoundingClientRect(),p=R?g:w;let t=h,a=u;const B=h+n<=window.innerHeight,b=o-n>=0,y=u-w>=0,P=m+w<=window.innerWidth,S=i=>{switch(i){case e.BottomLeft:return B?i:e.TopLeft;case e.BottomRight:return B?i:e.TopRight;case e.Bottom:return B?i:e.Top;case e.TopLeft:return b?i:e.BottomLeft;case e.TopRight:return b?i:e.BottomRight;case e.Top:return b?i:e.Bottom;case e.Left:return y?i:e.Right;case e.Right:return P?i:e.Left;default:return i}};switch(L.value=S(v.value),L.value){case e.BottomLeft:t=h+r.value,a=u;break;case e.BottomRight:t=h+r.value,a=m-p;break;case e.Bottom:t=h+r.value,a=u+(g-p)/2;break;case e.TopLeft:t=o-n-r.value,a=u;break;case e.TopRight:t=o-n-r.value,a=m-p;break;case e.Top:t=o-n-r.value,a=u+(g-p)/2;break;case e.Left:t=o+(k-n)/2,a=u-w-r.value;break;case e.Right:t=o+(k-n)/2,a=m+r.value;break}t=E(t,0,window.innerHeight-n),a=E(a,0,window.innerWidth-p),f.value={...f.value,"--top":`${t}px`,"--left":`${a}px`,"--width":R?`${g}px`:"auto"}};return C([x,l,d,v],c,{immediate:!0}),H(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),M(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{cssVariables:f,updateCssVariables:c,computedPosition:L}};export{U as u};
