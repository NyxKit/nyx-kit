import{c as W}from"./number-BSU09LqX.js";import{N as e}from"./style-DbUoAtrk.js";import{r as T,c as E,w as H,o as V,a as U}from"./vue.esm-bundler-CW8VNZbY.js";const M=(c,l,d)=>{const f=d?.position??T(e.Bottom),k=!!d?.isEqualWidth,x=E(()=>d?.isUpdateAllowed?.value!==!1),n=E(()=>{if(!d?.gap?.value)return 0;const h=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${d.gap.value}`)??"0";return h.endsWith("rem")?parseFloat(h)*16:parseFloat(h)}),B=T({"--top":"0px","--left":"0px","--width":"auto"}),L=T(f.value),u=()=>{if(!c.value||!l.value||!x.value)return;const h="getBoundingClientRect"in c.value?c.value.getBoundingClientRect():c.value.$el.getBoundingClientRect(),$="getBoundingClientRect"in l.value?l.value.getBoundingClientRect():l.value.$el.getBoundingClientRect(),{top:s,bottom:g,left:r,right:m,width:v,height:C}=h,{width:w,height:i}=$,p=k?v:w;let t=g,o=r;const R=g+i<=window.innerHeight,b=s-i>=0,y=r-w>=0,P=m+w<=window.innerWidth,S=a=>{switch(a){case e.BottomLeft:return R?a:e.TopLeft;case e.BottomRight:return R?a:e.TopRight;case e.Bottom:return R?a:e.Top;case e.TopLeft:return b?a:e.BottomLeft;case e.TopRight:return b?a:e.BottomRight;case e.Top:return b?a:e.Bottom;case e.Left:return y?a:e.Right;case e.Right:return P?a:e.Left;default:return a}};switch(L.value=S(f.value),L.value){case e.BottomLeft:t=g+n.value,o=r;break;case e.BottomRight:t=g+n.value,o=m-p;break;case e.Bottom:t=g+n.value,o=r+(v-p)/2;break;case e.TopLeft:t=s-i-n.value,o=r;break;case e.TopRight:t=s-i-n.value,o=m-p;break;case e.Top:t=s-i-n.value,o=r+(v-p)/2;break;case e.Left:t=s+(C-i)/2,o=r-w-n.value;break;case e.Right:t=s+(C-i)/2,o=m+n.value;break}t=W(t,0,window.innerHeight-i),o=W(o,0,window.innerWidth-p),B.value={...B.value,"--top":`${t}px`,"--left":`${o}px`,"--width":k?`${v}px`:"auto"}};return H([x,c,l,f],u,{immediate:!0}),V(()=>{window.addEventListener("resize",u),window.addEventListener("scroll",u,!0)}),U(()=>{window.removeEventListener("resize",u),window.removeEventListener("scroll",u,!0)}),{cssVariables:B,updateCssVariables:u,computedPosition:L}};export{M as u};
