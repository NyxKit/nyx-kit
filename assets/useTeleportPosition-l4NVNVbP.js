import{N as e}from"./style-DbUoAtrk.js";import{r as T,c as W,w as C,o as H,a as M}from"./vue.esm-bundler-CwA91l8u.js";const E=(n,i,s)=>Math.max(i,Math.min(n,s)),U=(n,i,s=0)=>{const d=(n-s)%i;return d<i/2?n-d:n+(i-d)},q=(n,i,s)=>{const d=s?.position??T(e.Bottom),R=!!s?.isEqualWidth,x=W(()=>s?.isUpdateAllowed?.value!==!1),u=W(()=>{if(!s?.gap?.value)return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${s.gap.value}`)??"0";return a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),f=T({"--top":"0px","--left":"0px","--width":"auto"}),L=T(d.value),h=()=>{if(!n.value||!i.value||!x.value)return;const{top:a,bottom:m,left:l,right:g,width:w,height:k}=n.value.getBoundingClientRect(),{width:v,height:c}=i.value.getBoundingClientRect(),p=R?w:v;let t=m,o=l;const B=m+c<=window.innerHeight,b=a-c>=0,S=l-v>=0,y=g+v<=window.innerWidth,P=r=>{switch(r){case e.BottomLeft:return B?r:e.TopLeft;case e.BottomRight:return B?r:e.TopRight;case e.Bottom:return B?r:e.Top;case e.TopLeft:return b?r:e.BottomLeft;case e.TopRight:return b?r:e.BottomRight;case e.Top:return b?r:e.Bottom;case e.Left:return S?r:e.Right;case e.Right:return y?r:e.Left;default:return r}};switch(L.value=P(d.value),L.value){case e.BottomLeft:t=m+u.value,o=l;break;case e.BottomRight:t=m+u.value,o=g-p;break;case e.Bottom:t=m+u.value,o=l+(w-p)/2;break;case e.TopLeft:t=a-c-u.value,o=l;break;case e.TopRight:t=a-c-u.value,o=g-p;break;case e.Top:t=a-c-u.value,o=l+(w-p)/2;break;case e.Left:t=a+(k-c)/2,o=l-v-u.value;break;case e.Right:t=a+(k-c)/2,o=g+u.value;break}t=E(t,0,window.innerHeight-c),o=E(o,0,window.innerWidth-p),f.value={...f.value,"--top":`${t}px`,"--left":`${o}px`,"--width":R?`${w}px`:"auto"}};return C([x,n,i,d],h,{immediate:!0}),H(()=>{window.addEventListener("resize",h),window.addEventListener("scroll",h,!0)}),M(()=>{window.removeEventListener("resize",h),window.removeEventListener("scroll",h,!0)}),{cssVariables:f,updateCssVariables:h,computedPosition:L}};export{U as r,q as u};
