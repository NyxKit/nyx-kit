import{N as e}from"./style-DbUoAtrk.js";import{r as R,c as W,w as V,o as C,a as H}from"./vue.esm-bundler-CfsXIL5g.js";const E=(d,h,u)=>Math.max(h,Math.min(d,u)),U=(d,h,u)=>{const v=u?.position??R(e.Bottom),x=!!u?.isEqualWidth,k=W(()=>u?.isUpdateAllowed?.value!==!1),i=W(()=>{if(!u?.gap?.value)return 0;const t=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${u.gap.value}`)??"0";return console.log("gapValue",t),t.endsWith("rem")?parseFloat(t)*16:parseFloat(t)}),f=R({"--top":"0px","--left":"0px","--width":"auto"}),L=R(v.value),c=()=>{if(!d.value||!h.value||!k.value)return;const{top:t,bottom:l,left:r,right:p,width:g,height:B}=d.value.getBoundingClientRect(),{width:w,height:s}=h.value.getBoundingClientRect();console.log(">>",{top:t,bottom:l,left:r,right:p,relWidth:g,relHeight:B});const m=x?g:w;let o=l,a=r;const b=l+s<=window.innerHeight,T=t-s>=0,y=r-w>=0,P=p+w<=window.innerWidth,S=n=>{switch(n){case e.BottomLeft:return b?n:e.TopLeft;case e.BottomRight:return b?n:e.TopRight;case e.Bottom:return b?n:e.Top;case e.TopLeft:return T?n:e.BottomLeft;case e.TopRight:return T?n:e.BottomRight;case e.Top:return T?n:e.Bottom;case e.Left:return y?n:e.Right;case e.Right:return P?n:e.Left;default:return n}};switch(L.value=S(v.value),L.value){case e.BottomLeft:o=l+i.value,a=r;break;case e.BottomRight:o=l+i.value,a=p-m;break;case e.Bottom:o=l+i.value,a=r+(g-m)/2;break;case e.TopLeft:o=t-s-i.value,a=r;break;case e.TopRight:o=t-s-i.value,a=p-m;break;case e.Top:o=t-s-i.value,a=r+(g-m)/2;break;case e.Left:o=t+(B-s)/2,a=r-w-i.value;break;case e.Right:o=t+(B-s)/2,a=p+i.value;break}o=E(o,0,window.innerHeight-s),a=E(a,0,window.innerWidth-m),f.value={...f.value,"--top":`${o}px`,"--left":`${a}px`,"--width":x?`${g}px`:"auto"}};return V([k,d,h,v],c,{immediate:!0}),C(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),H(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{cssVariables:f,updateCssVariables:c,computedPosition:L}};export{U as u};
