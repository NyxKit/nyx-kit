import{d as U,m as j,h as A,c as f,C as y,r as g,w as E,e as u,k as v,l as F,D as I,n as p,u as m,j as r,E as K,f as P,F as C,A as D,s as Q,q as G,p as H,T as R,G as W,H as J,g as o,t as q}from"./vue.esm-bundler-CW8VNZbY.js";import{N as X,a as Y,b as Z}from"./common-D0hF21is.js";import{u as ee}from"./useTeleportPosition-B--49sSJ.js";var z=(d=>(d.Single="single",d.Multiple="multiple",d))(z||{});const le=["placeholder"],te=["onClick"],ae=["id","multiple"],se=["value"],ne=U({__name:"NyxSelect",props:j({type:{default:z.Single},theme:{default:Z.Default},variant:{default:Y.Outline},size:{default:X.Medium},disabled:{type:Boolean},placeholder:{},options:{},id:{},multiple:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const l=d,x=A(d,"modelValue"),s=f({get:()=>x.value??(l.multiple?[]:""),set:e=>{x.value=e}}),_=y("nyx-select-input"),i=g(""),N=y("elControl"),S=y("elDropdown"),n=g(!1),{cssVariables:$,computedPosition:h}=ee(N,S,{isEqualWidth:!0,isUpdateAllowed:n}),M=f(()=>l.multiple?s.value.map(e=>l.options.find(a=>a.value===e)?.label??"").join(", "):l.options.find(a=>a.value===s.value)?.label??""),k=f(()=>i.value?l.options.filter(e=>e.label.toLowerCase().includes(i.value.toLowerCase())):l.options),T=()=>{n.value=!n.value},w=()=>{n.value=!1},O=({value:e,label:a})=>{if(l.multiple){const c=s.value;c.indexOf(e)===-1?s.value=[...c,e]:s.value=c.filter(b=>b!==e),i.value=""}else s.value=e,i.value=a,n.value=!1},V=e=>{i.value=e===void 0?M.value:e},B=()=>{n.value=!0,_.value?.focus()},L=e=>l.multiple?s.value.includes(e):e===s.value;return E(n,e=>{e?V(""):V()}),(e,a)=>{const c=J("click-outside");return o(),u("div",{class:p(["nyx-select",[`theme-${l.theme}`,`variant-${l.variant}`,`size-${l.size}`]])},[v((o(),u("div",{class:p(["nyx-select__control",[`nyx-select__control--${m(h)}`,{"nyx-select__control--open":n.value}]]),ref_key:"elControl",ref:N,onClick:B,onKeyup:I(w,["esc"])},[v(r("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),class:"nyx-select__input",placeholder:l.multiple?"Select multiple...":"Select...",ref:"nyx-select-input"},null,8,le),[[K,i.value]]),r("span",{class:"nyx-select__arrow",onClick:T},"â–¼")],34)),[[c,w]]),(o(),F(R,{to:"body"},[r("div",{class:p(["nyx-select__dropdown",[`theme-${l.theme}`,`variant-${l.variant}`,`size-${l.size}`,`nyx-select__dropdown--${m(h)}`,{"nyx-select__dropdown--open":n.value}]]),ref_key:"elDropdown",ref:S,role:"listbox",style:H(m($))},[r("ul",null,[(o(!0),u(C,null,D(k.value,t=>(o(),u("li",{key:t.value,class:p(["nyx-select__option",{"nyx-select__option--selected":L(t.value),"nyx-select__option--disabled":!!t.disabled}]),onClick:b=>O(t)},[r("span",null,q(t.label),1)],10,te))),128)),k.value.length===0?(o(),u("li",{key:0,class:"nyx-select__option nyx-select__option--empty",onClick:a[1]||(a[1]=Q(t=>m(_)?.focus(),["prevent","stop"]))},[G(e.$slots,"empty",{},()=>[a[3]||(a[3]=r("span",null,"No results found",-1))])])):P("",!0)])],6)])),v(r("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>s.value=t),class:"sr-only",id:l.id,multiple:l.multiple},[(o(!0),u(C,null,D(l.options,t=>(o(),u("option",{value:t.value,key:t.value},q(t.label),9,se))),128))],8,ae),[[W,s.value]])],2)}}});ne.__docgenInfo={exportName:"default",displayName:"NyxSelect",description:"",tags:{},props:[{name:"type",required:!1,type:{name:"NyxSelectType"},defaultValue:{func:!1,value:"NyxSelectType.Single"}},{name:"theme",required:!1,type:{name:"NyxTheme"},defaultValue:{func:!1,value:"NyxTheme.Default"}},{name:"variant",required:!1,type:{name:"NyxVariant"},defaultValue:{func:!1,value:"NyxVariant.Outline"}},{name:"size",required:!1,type:{name:"NyxSize"},defaultValue:{func:!1,value:"NyxSize.Medium"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"NyxSelectOption"}]}},{name:"id",required:!1,type:{name:"string"}},{name:"multiple",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"empty"}],sourceFiles:["/Users/arnedecant/Documents/projects/nyx-kit/src/components/NyxSelect/NyxSelect.vue"]};export{z as N,ne as _};
