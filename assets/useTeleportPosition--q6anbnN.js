import{c as $}from"./number-BSU09LqX.js";import{N as e}from"./style-DbUoAtrk.js";import{r as x,c as y,w as U,o as q,a as z}from"./vue.esm-bundler-CW8VNZbY.js";const X=(h,g,u)=>{const L=u?.position??x(e.Bottom),C=!!u?.isEqualWidth,W=y(()=>u?.isUpdateAllowed?.value!==!1),n=u?.offsetX??0,i=u?.offsetY??0,r=y(()=>{if(!u?.gap?.value)return 0;const f=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${u.gap.value}`)??"0";return f.endsWith("rem")?parseFloat(f)*16:parseFloat(f)}),R=x({"--top":"0px","--left":"0px","--width":"auto"}),b=x(L.value),l=()=>{if(!h.value||!g.value||!W.value)return;const f="getBoundingClientRect"in h.value?h.value.getBoundingClientRect():h.value.$el.getBoundingClientRect(),P="getBoundingClientRect"in g.value?g.value.getBoundingClientRect():g.value.$el.getBoundingClientRect(),{top:d,bottom:p,left:c,right:v,width:w,height:E}=f,{width:B,height:s}=P,m=C?w:B;let t=p,o=c;const T=p+s<=window.innerHeight,k=d-s>=0,S=c-B>=0,H=v+B<=window.innerWidth,V=a=>{switch(a){case e.BottomLeft:return T?a:e.TopLeft;case e.BottomRight:return T?a:e.TopRight;case e.Bottom:return T?a:e.Top;case e.TopLeft:return k?a:e.BottomLeft;case e.TopRight:return k?a:e.BottomRight;case e.Top:return k?a:e.Bottom;case e.Left:return S?a:e.Right;case e.Right:return H?a:e.Left;default:return a}};switch(b.value=V(L.value),b.value){case e.BottomLeft:t=p+r.value+i,o=c+n;break;case e.BottomRight:t=p+r.value+i,o=v-m+n;break;case e.Bottom:t=p+r.value+i,o=c+(w-m)/2+n;break;case e.TopLeft:t=d-s-r.value+i,o=c+n;break;case e.TopRight:t=d-s-r.value+i,o=v-m+n;break;case e.Top:t=d-s-r.value+i,o=c+(w-m)/2+n;break;case e.Left:t=d+(E-s)/2+i,o=c-B-r.value+n;break;case e.Right:t=d+(E-s)/2+i,o=v+r.value+n;break}t=$(t,0,window.innerHeight-s),o=$(o,0,window.innerWidth-m),R.value={...R.value,"--top":`${t}px`,"--left":`${o}px`,"--width":C?`${w}px`:"auto"}};return U([W,h,g,L],l,{immediate:!0}),q(()=>{window.addEventListener("resize",l),window.addEventListener("scroll",l,!0)}),z(()=>{window.removeEventListener("resize",l),window.removeEventListener("scroll",l,!0)}),{cssVariables:R,updateCssVariables:l,computedPosition:b}};export{X as u};
