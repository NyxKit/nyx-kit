import{c as W}from"./number-BSU09LqX.js";import{N as e}from"./style-DbUoAtrk.js";import{r as T,c as E,w as C,o as H,a as V}from"./vue.esm-bundler-rm72CWhh.js";const z=(g,w,c)=>{const v=c?.position??T(e.Bottom),R=!!c?.isEqualWidth,k=E(()=>c?.isUpdateAllowed?.value!==!1),i=E(()=>{if(!c?.gap?.value)return 0;const o=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${c.gap.value}`)??"0";return o.endsWith("rem")?parseFloat(o)*16:parseFloat(o)}),f=T({"--top":"0px","--left":"0px","--width":"auto"}),L=T(v.value),u=()=>{if(!g.value||!w.value||!k.value)return;const{top:o,bottom:l,left:s,right:h,width:p,height:x}=g.value.getBoundingClientRect(),{width:m,height:n}=w.value.getBoundingClientRect(),d=R?p:m;let t=l,a=s;const B=l+n<=window.innerHeight,b=o-n>=0,y=s-m>=0,P=h+m<=window.innerWidth,S=r=>{switch(r){case e.BottomLeft:return B?r:e.TopLeft;case e.BottomRight:return B?r:e.TopRight;case e.Bottom:return B?r:e.Top;case e.TopLeft:return b?r:e.BottomLeft;case e.TopRight:return b?r:e.BottomRight;case e.Top:return b?r:e.Bottom;case e.Left:return y?r:e.Right;case e.Right:return P?r:e.Left;default:return r}};switch(L.value=S(v.value),L.value){case e.BottomLeft:t=l+i.value,a=s;break;case e.BottomRight:t=l+i.value,a=h-d;break;case e.Bottom:t=l+i.value,a=s+(p-d)/2;break;case e.TopLeft:t=o-n-i.value,a=s;break;case e.TopRight:t=o-n-i.value,a=h-d;break;case e.Top:t=o-n-i.value,a=s+(p-d)/2;break;case e.Left:t=o+(x-n)/2,a=s-m-i.value;break;case e.Right:t=o+(x-n)/2,a=h+i.value;break}t=W(t,0,window.innerHeight-n),a=W(a,0,window.innerWidth-d),f.value={...f.value,"--top":`${t}px`,"--left":`${a}px`,"--width":R?`${p}px`:"auto"}};return C([k,g,w,v],u,{immediate:!0}),H(()=>{window.addEventListener("resize",u),window.addEventListener("scroll",u,!0)}),V(()=>{window.removeEventListener("resize",u),window.removeEventListener("scroll",u,!0)}),{cssVariables:f,updateCssVariables:u,computedPosition:L}};export{z as u};
