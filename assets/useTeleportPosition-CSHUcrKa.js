import{r as T,c as k,w as H,f as $,g as U}from"./vue.esm-bundler-BOhbys1Y.js";const W=(t,s,l)=>Math.max(s,Math.min(t,l));var e=(t=>(t.TopLeft="top-left",t.TopCenter="top-center",t.TopRight="top-right",t.BottomLeft="bottom-left",t.BottomCenter="bottom-center",t.BottomRight="bottom-right",t.LeftMiddle="left-middle",t.RightMiddle="right-middle",t))(e||{});const z=(t,s,l)=>{const w=l?.position??T(e.BottomCenter),C=!!l?.isEqualWidth,R=k(()=>l?.isUpdateAllowed?.value!==!1),i=k(()=>{if(!l?.gap?.value)return 0;const a=window.getComputedStyle(document.body).getPropertyValue(`--nyx-gap-${l.gap.value}`)??"0";return console.log("gapValue",a),a.endsWith("rem")?parseFloat(a)*16:parseFloat(a)}),g=T({"--top":"0px","--left":"0px","--width":"auto"}),L=T(w.value),c=()=>{if(!t.value||!s.value||!R.value)return;const{top:a,bottom:h,left:u,right:m,width:f,height:M}=t.value.getBoundingClientRect(),{width:v,height:d}=s.value.getBoundingClientRect(),p=C?f:v;let o=h,r=u;const B=h+d<=window.innerHeight,b=a-d>=0,E=u-v>=0,S=m+v<=window.innerWidth,V=n=>{switch(n){case e.BottomLeft:return B?n:e.TopLeft;case e.BottomRight:return B?n:e.TopRight;case e.BottomCenter:return B?n:e.TopCenter;case e.TopLeft:return b?n:e.BottomLeft;case e.TopRight:return b?n:e.BottomRight;case e.TopCenter:return b?n:e.BottomCenter;case e.LeftMiddle:return E?n:e.RightMiddle;case e.RightMiddle:return S?n:e.LeftMiddle;default:return n}};switch(L.value=V(w.value),L.value){case e.BottomLeft:o=h+i.value,r=u;break;case e.BottomRight:o=h+i.value,r=m-p;break;case e.BottomCenter:o=h+i.value,r=u+(f-p)/2;break;case e.TopLeft:o=a-d-i.value,r=u;break;case e.TopRight:o=a-d-i.value,r=m-p;break;case e.TopCenter:o=a-d-i.value,r=u+(f-p)/2;break;case e.LeftMiddle:o=a+(M-d)/2,r=u-v-i.value;break;case e.RightMiddle:o=a+(M-d)/2,r=m+i.value;break}o=W(o,0,window.innerHeight-d),r=W(r,0,window.innerWidth-p),g.value["--top"]=`${o}px`,g.value["--left"]=`${r}px`,g.value["--width"]=C?`${f}px`:"auto"};return H([R,t,s,w],c,{immediate:!0}),$(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),U(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{cssVariables:g,updateCssVariables:c,computedPosition:L}};export{e as N,z as u};
